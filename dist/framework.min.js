var module=angular.module("framework",["ng","ngSanitize","ngMessages"]);!function(){"use strict";angular.module("framework").factory("Events",[function(){function e(e,t){var n=document.documentElement||document.body.parentNode||document.body,r={x:window.pageXOffset||n.scrollLeft,y:window.pageYOffset||n.scrollTop};if("resize"===e.type){var o={w:this.getWidth(),h:this.getHeight()};this.view=o}var s=i(t),a={x:s.offsetLeft,y:s.offsetTop},u=s.getBoundingClientRect(),c=this.getPage(e);if(c){var l={x:c.x-r.x-u.left,y:c.y-r.y-u.top},f={x:c.x-r.x,y:c.y-r.y};this.relative=l,this.absolute=f}"resize"===this.type&&console.log(this.type),this.originalEvent=e,this.element=t,this.node=s,this.offset=a,this.rect=u}function t(){return self.innerWidth?self.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0}function n(){return self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:void 0}function r(e){var t=["click","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","contextmenu"],n=["touchstart","touchmove","touchend","touchcancel"],r=null;if(-1!==n.indexOf(e.type)){var o=null,i=e.originalEvent?e.originalEvent:e,s=i.touches.length?i.touches:i.changedTouches;s&&s.length&&(o=s[0]),o&&(r={x:o.pageX,y:o.pageY})}else-1!==t.indexOf(e.type)&&(r={x:e.pageX,y:e.pageY});return this.type=e.type,r}function o(t){function n(t){var n=new e(t,l.element);l.listeners.click.apply(this,[n])}function r(t){var n=new e(t,l.element);l.listeners.down.apply(this,[n]),l.removeTouchEvents()}function o(t){var n=new e(t,l.element);l.listeners.move.apply(this,[n])}function i(t){var n=new e(t,l.element);l.listeners.up.apply(this,[n])}function s(t){console.log("onResize",t);var n=new e(t,l.element);l.listeners.resize.apply(this,[n])}function a(t){var n=new e(t,l.element);l.listeners.down.apply(this,[n]),l.removeStandardEvents()}function u(t){var n=new e(t,l.element);l.listeners.move.apply(this,[n])}function c(t){var n=new e(t,l.element);l.listeners.up.apply(this,[n])}this.element=t,this.listeners={},this.standardEvents={click:{key:"click",callback:n},down:{key:"mousedown",callback:r},move:{key:"mousemove",callback:o},up:{key:"mouseup",callback:i},resize:{key:"resize",callback:s}},this.touchEvents={down:{key:"touchstart",callback:a},move:{key:"touchmove",callback:u},up:{key:"touchend",callback:c}};var l=this}function i(e){return e.length?e[0]:e}function s(e){return e.length?e:angular.element(e)}function a(e){var t=this,n=this.standardEvents,r=this.touchEvents,o=s(this.element),i=angular.element(window);return angular.forEach(e,function(e,s){if(t.listeners[s]){var a={};a[s]=t.listeners[s],u(a)}t.listeners[s]=e,n[s]&&("resize"===s?i.on(n[s].key,n[s].callback):o.on(n[s].key,n[s].callback)),r[s]&&o.on(r[s].key,r[s].callback)}),t}function u(e){var t=this,n=this.standardEvents,r=this.touchEvents,o=s(this.element),i=angular.element(window);return angular.forEach(e,function(e,s){n[s]&&("resize"===s?i.off(n[s].key,n[s].callback):o.off(n[s].key,n[s].callback)),r[s]&&o.off(r[s].key,r[s].callback),t.listeners[s]=null}),t}function c(){var e=this,t=e.standardEvents,n=(e.touchEvents,s(e.element));n.off("mousedown",t.down.callback),n.off("mousemove",t.move.callback),n.off("mouseup",t.up.callback)}function l(){var e=this,t=(e.standardEvents,e.touchEvents),n=s(e.element);n.off("touchstart",t.down.callback),n.off("touchmove",t.move.callback),n.off("touchend",t.up.callback)}return e.prototype={getPage:r,getWidth:t,getHeight:n},o.prototype={add:a,remove:u,removeStandardEvents:c,removeTouchEvents:l},o}])}(),function(){"use strict";angular.module("framework").directive("ngClick",["Events",function(e){function t(t,n,r,o){function i(e){n.removeClass("animate"),n.offsetWidth,s.style.left=e.relative.x+"px",s.style.top=e.relative.y+"px",setTimeout(function(){n.addClass("animate"),setTimeout(function(){n.removeClass("animate")},1e3)},10)}n.addClass("material");var s=document.createElement("material");n[0].appendChild(s);var a={click:i},u=new e(n).add(a);t.$on("$destroy",function(){u.remove(a)})}return{restrict:"A",priority:0,link:t}}])}(),function(){"use strict";angular.module("framework")}(),function(){"use strict";var e=angular.module("framework");e.directive("controlMessages",[function(){return{restrict:"E",templateUrl:"partials/control-messages",transclude:{message:"?messageItems"},link:function(e,t,n,r){}}}]),e.directive("control",["$http","$templateCache","$compile","$parse",function(e,t,n,r){function o(e,t,n){e=e||"",t=t||"";var r=e.split(",");if(r.length>1){var o=r.shift();return angular.forEach(r,function(e,r){o=n?o.split("{"+r+"}").join("' + "+t+e+" + '"):o.split("{"+r+"}").join(t+e)}),n?"'"+o+"'":o}return t+e}var i=0;return{restrict:"A",templateUrl:function(e,t){var n="partials/forms/control";switch(t.control){case"select":n="partials/forms/control-select"}return n},scope:{ngModel:"=",required:"=",form:"@",title:"@",placeholder:"@"},require:"ngModel",compile:function(e,t){return{pre:function(e,t,n){if("select"===n.control){var s=n.label?n.label:"name",a=n.key?n.key:"id",u=n.min?" | filter:gte('"+a+"', "+n.min+")":"",c=o(s,"item.",!0);e.options=n.number?"item."+a+" as "+c+" disable when item.disabled for item in "+n.source+u:c+" disable when item.disabled for item in "+n.source+u+" track by item."+a,console.log("control.compile.pre",e.options)}var l=(e.type=n.control,e.form=e.form||"form",e.title=e.title||"untitled");e.placeholder=e.placeholder||l,e.field=l.replace(/[^0-9a-zA-Z]/g,"").split(" ").join("")+ ++i;e.validate=n.validate||n.control,e.format=n.format||null,e.precision=n.precision||null,e.validate=n.validate||n.control,e.minLength=n.min||0,e.maxLength=n.max||Number.POSITIVE_INFINITY,e.options=r(n.options)(e)||{},e.focus=!1,e.visible=!1,e.getType=function(){var t="text";switch(n.control){case"password":t=e.visible?"text":"password";break;default:t=n.control}return t},e.getClasses=function(){var t=r(e.form)(e.$parent),n=r(e.form+"."+e.field)(e.$parent);return{"control-focus":e.focus,"control-success":n.$valid,"control-error":n.$invalid&&(t.$submitted||n.$touched),"control-empty":!n.$viewValue}},e.getMessages=function(){var t=r(e.form)(e.$parent),n=r(e.form+"."+e.field)(e.$parent);return(t.$submitted||n.$touched)&&n.$error}}}}}}]),e.directive("numberPicker",["$parse","$timeout",function(e,t){return{restrict:"A",template:'<div class="input-group">   <span class="input-group-btn"><button class="btn btn-outline-primary" type="button">-</button></span>   <div ng-transclude></div>   <span class="input-group-btn"><button class="btn btn-outline-primary" type="button">+</button></span></div>',replace:!0,transclude:!0,link:function(n,r,o,i){function s(r){var i=e(o.min)(n),s=e(o.numberPicker),a=s.assign;t(function(){a(n,Math.max(i,s(n)-1))})}function a(r){var i=e(o.max)(n),s=e(o.numberPicker),a=s.assign;t(function(){a(n,Math.min(i,s(n)+1))})}function u(){angular.element(l).off("touchstart mousedown",s),angular.element(f).off("touchstart mousedown",a)}var c=r[0],l=c.querySelectorAll(".input-group-btn > .btn")[0],f=c.querySelectorAll(".input-group-btn > .btn")[1];n.$on("$destroy",function(){u()}),function(){angular.element(l).on("touchstart mousedown",s),angular.element(f).on("touchstart mousedown",a)}()}}}])}(),function(){"use strict";angular.module("framework").directive("validate",["$filter",function(e){return{require:"ngModel",link:function(t,n,r,o){function i(){d=!0,l&&(n[0].value=o.$modelValue||null,o.$modelValue||o.$setViewValue(null))}function s(){if(l&&!o.$invalid)switch(c){case"date":case"datetime":case"datetime-local":n[0].value=o.$modelValue?e("date")(o.$modelValue,l):" ";break;default:n[0].value=o.$modelValue?e("number")(o.$modelValue,f)+" "+l:" "}}function a(){d=!1,s()}function u(){n.off("focus",i),n.off("blur",a)}var c=r.validate,l=r.format||"",f=r.precision||2,d=!1;switch(c){case"date":case"datetime":case"datetime-local":o.$formatters.push(function(t){return t?e("date")(t,l):null});break;case"number":o.$parsers.unshift(function(e){var t=!1;return void 0!==e&&""!==e?(t=-1!==String(e).indexOf(Number(e).toString()),e=Number(e),o.$setValidity("number",t),t&&(o.$setValidity("positive",e>=.01),void 0!==r.min&&o.$setValidity("range",e>=Number(r.min)),void 0!==r.max&&o.$setValidity("range",e<=Number(r.max)))):(t=!0,e=Number(e),o.$setValidity("number",!0),o.$setValidity("positive",!0),void 0!==r.min&&o.$setValidity("range",!0),void 0!==r.max&&o.$setValidity("range",!0)),e}),o.$formatters.push(function(t){return t?e("number")(t,f)+" "+l:null});break;case"anynumber":o.$parsers.unshift(function(e){var t=!1;return void 0!==e&&""!==e?(t=-1!==String(e).indexOf(Number(e).toString()),e=Number(e),o.$setValidity("number",t),t&&(void 0!==r.min&&o.$setValidity("range",e>=Number(r.min)),void 0!==r.max&&o.$setValidity("range",e<=Number(r.max)))):(t=!0,e=Number(e),o.$setValidity("number",!0),void 0!==r.min&&o.$setValidity("range",!0),void 0!==r.max&&o.$setValidity("range",!0)),e}),o.$formatters.push(function(t){return t||0===t?e("number")(t,f)+" "+l:null})}t.$on("$destroy",function(){u()}),function(){n.on("focus",i),n.on("blur",a)}()}}}])}(),function(){"use strict";angular.module("framework").factory("Hash",[function(){function e(t,n){t=t||"id",n=n?e.get(n):{},Object.defineProperties(this,{key:{value:t,enumerable:!1,writable:!1},pool:{value:n,enumerable:!1,writable:!1},length:{value:0,enumerable:!1,writable:!0}})}function t(e){return void 0!==this.pool[e]}function n(e){return this.pool[e]}function r(e){var t=this,n=this.key;return e?t.getId(e[n]):null}function o(e){var t=this;return this.pool[e[this.key]]=e,t.push(e),e}function i(e){var t=this,n=t.get(e);if(n)for(var r,o=0,i=Object.keys(e);o<i.length;o++)r=i[o],n[r]=e[r];else n=t.set(e);return n}function s(e){var t=this,n=this.pool,r=this.key,o=t.get(e);if(o){var i=t.indexOf(o);-1!==i&&t.splice(i,1),delete n[o[r]]}return t}function a(e){var t=this;if(!e)return t;for(var n=0;n<e.length;)t.add(e[n]),n++;return t}function u(e){var t=this;if(!e)return t;for(var n=0;n<e.length;)t.remove(e[n]),n++;return t}function c(){var e,t=this,n=t.key,r=t.pool,o=0;for(t.length;t.length;)e=t.shift(),delete r[e[n]],o++;return t}function l(e){var t=this;if(e)for(var n=0;n<t.length;)e(t[n],n),n++;return t}function f(e,t){var n=this;return e=e||this.key,n.sort(function(n,r){var o=t?r:n,i=t?n:r;return o[e]-i[e]}),n}function d(e){return this.forward(e,!0)}function m(e){if(e.key!==this.key||e.length!==this.length)return!0;for(var t=!1,n=0,r=this.length,o=this.key;t&&n<r;)t=this[n][o]!==e[n][o],n++}function h(){var e=this,t=this.pool,n=this.key;Object.keys(t).forEach(function(e){delete t[e]}),angular.forEach(e,function(e){t[e[n]]=e})}var p={};return e.get=function(e){return p[e]=p[e]||{}},e.prototype=new Array,e.prototype.has=t,e.prototype.getId=n,e.prototype.get=r,e.prototype.set=o,e.prototype.add=i,e.prototype.remove=s,e.prototype.each=l,e.prototype.addMany=a,e.prototype.removeMany=u,e.prototype.removeAll=c,e.prototype.forward=f,e.prototype.backward=d,e.prototype.differs=m,e.prototype.updatePool=h,e}])}(),function(){"use strict";angular.module("framework").directive("header",[function(){return{restrict:"E",templateUrl:"partials/header",transclude:{header:"?headerItems"},link:function(e,t,n,r){}}}])}(),function(){"use strict";angular.module("framework").service("Router",["$location","$timeout",function(e,t){function n(n,r){function o(){e.$$lastRequestedPath=e.path(),e.path(n)}r?t(function(){o()},r):o()}function r(n,r){function o(){n=e.$$lastRequestedPath||n,e.$$lastRequestedPath=null,e.path(n)}r?t(function(){o()},r):o()}function o(n,r){function o(){e.path(n)}r?t(function(){o()},r):t(function(){o()})}var i=this;i.redirect=n,i.path=r,i.apply=o}])}(),function(){"use strict";angular.module("framework").factory("State",["$timeout",function(e){function t(){this.isReady=!1,this.idle()}function n(){this.isBusy=!1,this.isError=!1,this.isErroring=!1,this.isSuccess=!1,this.isSuccessing=!1,this.button=null,this.errors=[]}function r(){return!this.isBusy&&!this.isErroring&&!this.isSuccessing}function o(e){return!this.isBusy&&(this.isBusy=!0,this.isError=!1,this.isErroring=!1,this.isSuccess=!1,this.isSuccessing=!1,this.errors=[],this.key=e,!0)}function i(){this.isBusy=!1,this.isError=!1,this.isErroring=!1,this.isSuccess=!0,this.isSuccessing=!0,this.errors=[],e(function(){this.isSuccessing=!1,this.key=null}.bind(this),m)}function s(t){this.isBusy=!1,this.isError=!0,this.isErroring=!0,this.isSuccess=!1,this.isSuccessing=!1,this.errors.push(t),e(function(){this.isErroring=!1,this.key=null}.bind(this),m)}function a(){this.isReady=!0,this.success()}function u(){return this.isError?this.errors[this.errors.length-1]:null}function c(){return{busy:this.isBusy,ready:this.isReady,successing:this.isSuccessing,success:this.isSuccess,errorring:this.isErroring,error:this.isError}}function l(e,t){var n={ready:"submit",busy:"sending",error:"error",success:"success"};t&&angular.extend(n,t);var r=n.ready;return this.key===e&&(this.isBusy?r=n.busy:this.isSuccess?r=n.success:this.isError&&(r=n.error)),r}function f(e,t){var n=this,r=null;return this.key===e&&(r={ready:n.isReady,busy:n.isBusy,successing:n.isSuccessing,success:n.isSuccess,errorring:n.isErroring,error:n.isError},t&&angular.forEach(t,function(e,t){r[e]=r[t]})),r}function d(e){return this.key&&this.key!==e}var m=2e3;return t.prototype={idle:n,busy:o,enabled:r,error:s,ready:a,success:i,errorMessage:u,submitClass:c,labels:l,classes:f,disabled:d},t}])}(),function(){"use strict";var e=angular.module("framework");e.factory("Cookie",["$q","$window",function(e,t){function n(){}return n.TIMEOUT=3e5,n._set=function(e,n,r){var o;if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),o="; expires="+i.toGMTString()}else o="";t.document.cookie=e+"="+n+o+"; path=/"},n.set=function(e,t,r){try{var o=[],i=JSON.stringify(t,function(e,t){if("pool"!==e){if("object"==typeof t&&null!==t){if(-1!==o.indexOf(t))return;o.push(t)}return t}});o=null,n._set(e,i,r)}catch(n){console.log("Cookie.set.error serializing",e,t,n)}},n.get=function(e){for(var n=e+"=",r=t.document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n)){var s=i.substring(n.length,i.length),a=null;try{a=JSON.parse(s)}catch(e){console.log("Cookie.get.error parsing",key,e)}return a}}return null},n.delete=function(e){n._set(e,"",-1)},n.on=function(t){function r(){if(a>u)i.reject("timeout");else{var e=n.get(t);e?i.resolve(e):(a+=s,o=setTimeout(r,s))}}var o,i=e.defer(),s=1e3,a=0,u=n.TIMEOUT;return r(),i.promise},n}]),e.factory("LocalStorage",["$q","$window","Cookie",function(e,t,n){function r(){}return r.isSupported=function(){var e=!1;try{e="localStorage"in t&&null!==t.localStorage,e?(t.localStorage.setItem("test","1"),t.localStorage.removeItem("test")):e=!1}catch(t){e=!1}return e}(),r.isSupported?(r.set=function(e,n){try{var r=[],o=JSON.stringify(n,function(e,t){if("pool"!==e){if("object"==typeof t&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t}});r=null,t.localStorage.setItem(e,o)}catch(t){console.log("LocalStorage.set.error serializing",e,n,t)}},r.get=function(e){var n=null;if(void 0!==t.localStorage[e])try{n=JSON.parse(t.localStorage[e])}catch(t){console.log("LocalStorage.get.error parsing",e,t)}return n},r.delete=function(e){t.localStorage.removeItem(e)},r.on=function(r){function o(e){if(clearTimeout(i),e.originalEvent.key==r)try{var t=JSON.parse(e.originalEvent.newValue);s.resolve(t)}catch(e){console.log("LocalStorage.on.error parsing",r,e),s.reject("error parsing "+r)}}var i,s=e.defer(),a=n.TIMEOUT;return angular.element(t).on("storage",o),i=setTimeout(function(){s.reject("timeout")},a),s.promise}):(console.log("LocalStorage.unsupported switching to cookies"),r.set=n.set,r.get=n.get,r.delete=n.delete,r.on=n.on),r}]),e.factory("SessionStorage",["$q","$window","Cookie",function(e,t,n){function r(){}return r.isSupported=function(){var e=!1;try{e="sessionStorage"in t&&void 0!==t.sessionStorage,e?(t.sessionStorage.setItem("test","1"),t.sessionStorage.removeItem("test")):e=!1}catch(t){e=!1}return e}(),r.isSupported?(r.set=function(e,n){try{var r=[],o=JSON.stringify(n,function(e,t){if("pool"!==e){if("object"==typeof t&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t}});r=null,t.sessionStorage.setItem(e,o)}catch(t){console.log("SessionStorage.set.error serializing",e,n,t)}},r.get=function(e){var n=null;if(void 0!==t.sessionStorage[e])try{n=JSON.parse(t.sessionStorage[e])}catch(t){console.log("SessionStorage.get.error parsing",e,t)}return n},r.delete=function(e){t.sessionStorage.removeItem(e)},r.on=function(r){function o(e){if(clearTimeout(i),e.originalEvent.key===r)try{var t=JSON.parse(e.originalEvent.newValue);s.resolve(t)}catch(e){console.log("SessionStorage.on.error parsing",r,e),s.reject("error parsing "+r)}}var i,s=e.defer(),a=n.TIMEOUT;return angular.element(t).on("storage",o),i=setTimeout(function(){s.reject("timeout")},a),s.promise}):(console.log("SessionStorage.unsupported switching to cookies"),r.set=n.set,r.get=n.get,r.delete=n.delete,r.on=n.on),r}])}(),function(){"use strict";var e=angular.module("framework");e.factory("Vector",function(){function e(e,t){this.x=e||0,this.y=t||0}return e.make=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.size=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.normalize=function(t){var n=e.size(t);return t.x/=n,t.y/=n,t},e.incidence=function(e,t){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)},e.distance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.cross=function(e,t){return e.x*t.y-e.y*t.x},e.difference=function(t,n){return new e(t.x-n.x,t.y-n.y)},e.power=function(e,t){return(Math.abs(t.x-e.x)+Math.abs(t.y-e.y))/2},e.prototype={size:function(){return e.size(this)},normalize:function(){return e.normalize(this)},incidence:function(t){return e.incidence(this,t)},cross:function(t){return e.cross(this,t)},distance:function(t){return e.distance(this,t)},difference:function(t){return e.difference(this,t)},power:function(){return(Math.abs(this.x)+Math.abs(this.y))/2},towards:function(e,t){return t=t||.125,this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},add:function(e){return this.x+=e.x,this.y+=e.y,this},friction:function(e){return this.x*=e,this.y*=e,this},copy:function(t){return new e(this.x,this.y)},toString:function(){return"{"+this.x+","+this.y+"}"}},e}),e.factory("Utils",["$compile","$controller","Vector",function(e,t,n){function r(){}function o(e,t){var r=new n;if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type){var o=null,i=e.originalEvent?e.originalEvent:e,s=i.touches.length?i.touches:i.changedTouches;s&&s.length&&(o=s[0]),o&&(r.x=o.pageX,r.y=o.pageY)}else"click"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type&&"contextmenu"!==e.type||(r.x=e.pageX,r.y=e.pageY);return t&&(r.s=n.difference(r,t)),r.type=e.type,r}function i(e,t){e=angular.element(e)[0];var r=e.getBoundingClientRect(),o=new n(r.left,r.top);return n.difference(t,o)}function s(e,t){var n,r;if(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)}),e[n](t))return e;for(;null!==e;){if(null!==(r=e.parentElement)&&r[n](t))return r;e=r}return null}function a(e,t){var n;if(e===t)return e;for(;null!==e;){if(null!==(n=e.parentElement)&&n===t)return n;e=n}return null}function u(e,t,n){var r,o,i,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:v(),s=null,i=e.apply(r,o),s||(r=o=null)};return function(){var c=v();a||!1!==n.leading||(a=c);var l=t-(c-a);return r=this,o=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),a=c,i=e.apply(r,o),s||(r=o=null)):s||!1===n.trailing||(s=setTimeout(u,l)),i}}function c(e,t){var n=null;return e&&angular.forEach(e,function(e){var r=!0;angular.forEach(t,function(t,n){r=r&&e[n]===t}),r&&(n=e)}),n}function l(n,r,o,i){r.html(o);var s=e(r.contents());if(i.controller){var a=n.$new();angular.extend(a,i);var u=t(i.controller,{$scope:a});i.controllerAs&&(n[i.controllerAs]=u),r.data("$ngControllerController",u),r.children().data("$ngControllerController",u),n=a}s(n)}function f(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}}function d(e,t,n){e=e||"",t=t||"";var r=e.split(",");if(r.length>1){var o=r.shift();return angular.forEach(r,function(e,r){o=n?o.split("{"+r+"}").join("' + "+t+e+" + '"):o.split("{"+r+"}").join(t+e)}),n?"'"+o+"'":o}return t+e}function m(e,t){return e[t]}function h(e,t,n){return"string"==typeof t?h(e,t.split("."),n):1==t.length&&void 0!==n?e[t[0]]=n:0===t.length?e:h(e[t[0]],t.slice(1),n)}function p(e,t,n){return"string"==typeof t?p(e,t.split("."),n):1==t.length&&void 0!==n?e[t[0]]+=n:0===t.length?e:p(e[t[0]],t.slice(1),n)}function g(e,t,n){function r(){if(document.createEvent){var e=document.createElement("a");if(e.href=o,void 0!==e.download){var n=t||o.substring(o.lastIndexOf("/")+1,o.length);e.download=n}var r=document.createEvent("MouseEvents");return r.initEvent("click",!0,!0),e.dispatchEvent(r),!0}window.open(o.indexOf("?")>-1?o:o+"?download","_self")}n=n||"application/octet-stream";var o=null,i=new Blob([e],{type:n}),s=new window.FileReader;s.readAsDataURL(i),s.onloadend=function(){o=s.result,r()}}function y(e){var t={uri:"/api/reports/download",name:"Filename",extension:"txt",type:"text/plain",content:"Hello!"};e=angular.extend(t,e);var n=JSON.stringify(e),o=document.createElement("form"),i=document.createElement("input");return i.name="download",i.value=n,o.appendChild(i),o.action=e.uri,o.method="POST",o.target="ProjectDownloads",o.enctype="application/x-www-form-urlencoded",document.body.appendChild(o),o.submit(),setTimeout(function(){document.body.removeChild(o)},100),r}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o);return e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,o=0;if(2==arguments.length)t=arguments[1];else{for(;o<r&&!(o in n);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<r;)o in n&&(t=e(t,n[o],o,n)),o++;return t}})}();var v=Date.now||function(){return(new Date).getTime()},w=window.navigator.userAgent.toLowerCase(),b=-1!==w.indexOf("safari")&&-1===w.indexOf("chrome"),k=-1!==w.indexOf("trident")||-1!==w.indexOf("edge")||-1!==w.indexOf("msie"),x=!b&&!k&&-1!==w.indexOf("chrome"),E=-1!==w.indexOf("mobile");navigator.userAgent.toLowerCase().indexOf("chrome"),navigator.userAgent.toLowerCase().indexOf("safari");return r.reverseSortOn=f,r.getTouch=o,r.getRelativeTouch=i,r.getClosest=s,r.getClosestElement=a,r.throttle=u,r.where=c,r.format=d,r.compileController=l,r.reducer=m,r.reducerSetter=h,r.reducerAdder=p,r.downloadFile=g,r.serverDownload=y,r.toMd5=function(e){return Md5.encode(e)},r.ua={safari:b,msie:k,chrome:x,mobile:E},angular.forEach(r.ua,function(e,t){e&&angular.element(document.getElementsByTagName("body")).addClass(t)}),r}])}();
//# sourceMappingURL=framework.min.js.map
